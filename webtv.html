<!DOCTYPE html>
<html><head><meta charset="UTF-8"><script>var loadedhash=location.hash,loadingtimestart=+new Date(),currversion=120,urlHref='',vercheck=false,attempted=false;
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";function e(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})}function n(e){return!(!e||"undefined"==typeof e.length)}function t(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],c(e,this)}function r(e,n){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var o;try{o=t(e._value)}catch(r){return void f(n.promise,r)}i(n.promise,o)}else(1===e._state?i:f)(n.promise,e._value)})):e._deferreds.push(n)}function i(e,n){try{if(n===e)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if(n instanceof o)return e._state=3,e._value=n,void u(e);if("function"==typeof t)return void c(function(e,n){return function(){e.apply(n,arguments)}}(t,n),e)}e._state=1,e._value=n,u(e)}catch(r){f(e,r)}}function f(e,n){e._state=2,e._value=n,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;t>n;n++)r(e,e._deferreds[n]);e._deferreds=null}function c(e,n){var t=!1;try{e(function(e){t||(t=!0,i(n,e))},function(e){t||(t=!0,f(n,e))})}catch(o){if(t)return;t=!0,f(n,o)}}var a=setTimeout;o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,n){var o=new this.constructor(t);return r(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(e,n,o)),o},o.prototype["finally"]=e,o.all=function(e){return new o(function(t,o){function r(e,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var u=n.then;if("function"==typeof u)return void u.call(n,function(n){r(e,n)},o)}i[e]=n,0==--f&&t(i)}catch(c){o(c)}}if(!n(e))return o(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var f=i.length,u=0;i.length>u;u++)r(u,i[u])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(n){n(e)})},o.reject=function(e){return new o(function(n,t){t(e)})},o.race=function(e){return new o(function(t,r){if(!n(e))return r(new TypeError("Promise.race accepts an array"));for(var i=0,f=e.length;f>i;i++)o.resolve(e[i]).then(t,r)})},o._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){a(e,0)},o._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"Promise"in l?l.Promise.prototype["finally"]||(l.Promise.prototype["finally"]=e):l.Promise=o}); self.fetch||(self.fetch=function(e,n){return n=n||{},new Promise(function(t,s){var r=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(JSON.parse(r.responseText))},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var c in r.open(n.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+","+t:t}),t(a())},r.onerror=s,r.withCredentials="include"==n.credentials,n.headers)r.setRequestHeader(c,n.headers[c]);r.send(n.body||null)})});!function(e){var t=e.Element.prototype;"function"!=typeof t.matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=0;t[o]&&t[o]!==this;)++o;return Boolean(t[o])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window);var scroller={docPos:function(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},viewportHeight:function(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},docHeight:function(){return void 0!==document.height?document.height:document.body.offsetHeight},docMaxPos:function(){return this.docHeight()-this.viewportHeight()},elPos:function(o){return o.getBoundingClientRect().top},tickPos:function(o,t){var e=parseFloat(t)-parseFloat(o);Math.abs(e)<=.5?scrollTo(0,t):(o=.8*parseFloat(o)+.2*parseFloat(t),scrollTo(0,Math.round(o)),setTimeout(function(){scroller.tickPos(o,t)},1e3/60))},to:function(o,t){t||(t=0);var e=this.docPos()+('number'===typeof(o)?o:this.elPos(o))-t,n=this.docPos(),c=this.docMaxPos();e>c&&(e=c),this.tickPos(n,e)}};</script>
<script>var dq=document.querySelector.bind(document),dqa=document.querySelectorAll.bind(document);function addClass(els,cls){if('string'===typeof(els)){els=dqa(els)} else if('undefined'!==typeof(els.length)){els=[els]}cls=cls.split(' ');for(var i=0,j=els.length;i<j;i++){var el=els[i];for(var k=0,g=cls.length;k<g;k++){var c=cls[k];if(el.classList){el.classList.add(c);} else {var arr=el.className.split(' ');if(!includes(arr,c)){el.className+=' '+c;}}}}}function removeClass(els,cls){if('string'===typeof(els)){els=dqa(els)} else if('undefined'!==typeof(els.length)){els=[els]}cls=cls.split(' ');for(var i=0,j=els.length;i<j;i++){var el=els[i];for(var k=0,g=cls.length;k<g;k++){var c=cls[k];if(el.classList){el.classList.remove(c);} else {el.className=el.className.replace(new RegExp('\b'+c+'\b','g'),"");}}}}function toggleClass(els,cls){if('string'===typeof(els)){els=dqa(els)} else if('undefined'!==typeof(els.length)){els=[els]}cls=cls.split(' ');for(var i=0,j=els.length;i<j;i++){var el=els[i];for(var k=0,g=cls.length;k<g;k++){var c=cls[k];if(el.classList){el.classList.toggle(c);} else {var classes=el.className.split(' '),i=classes.indexOf(c);if(i>=0){classes.splice(i,1);} else {classes.push(c);el.className=classes.join(' ');}}}}}function includes(ar,e){return ar.indexOf(e)>=0}function show(el){removeClass(el,'w3-hide')}function hide(el){addClass(el,'w3-hide')}function eh(resp){if(resp.status>=400){throw Error(resp.statusText)}return resp}
fetch('/webtvversion?platform='+encodeURIComponent(btoa(navigator.platform))+'&cores='+navigator.hardwareConcurrency+'&ts='+loadingtimestart).then(eh).then(function(resp){return resp.json()}).then(function(data){if(20===data.latestversion){console.log("ver20");hide(document.body);islistshown=false;if('function'===typeof clearVideo){clearVideo();}quitTimeout=setTimeout(function(){for(var i=0,j=setInterval(function(){},999999);i<=j;i++){clearInterval(i);}for(var i=0,j=setTimeout(function(){},999999);i<=j;i++){clearTimeout(i);}islistshown=false;clearVideo();alert('Servis privremeno nije u funkciji!');},10000);} else if(currversion===data.latestversion){urlHref=window.location.href;if(includes(location.href,'?')||includes(location.href,'i=')){window.history.replaceState({},document.title,'/webtv'+loadedhash);}if(attempted){loadch();} else {vercheck=true;} } else {location.reload(true);}}).catch(function(err){console.log('initial version check failed: ',err)});
//if((location.href.indexOf('.php?')==-1)||(location.href.indexOf('?')!=-1&&location.href.indexOf('i=')!=-1)){window.location.replace(location.protocol+'//'+location.hostname+location.pathname+'?#');} else if (location.hash===''){location.hash='#';}
</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>.padding123,.jbuttons{padding-top:16px!important;padding-left:10.5%!important;padding-right:10.5%!important}
.hqbtn{padding-top:2px!important;padding-left:8px!important;padding-right:7px!important;padding-bottom:2px!important}
.playbtn{padding-top:0px!important;padding-left:8px!important;padding-right:6px!important;padding-bottom:1px!important}
#chsearch{display:inline-block;position:relative;top:3px;left:10px;height:38px;border:none;padding:8px;/*border-bottom:1px solid #ccc;border-right:1px solid #ccc;*/}#chfilterparent{display:inline-block;top:1px;left:19px;}
@media (min-width:601px){.containerlarge{padding:0.01em 16px}}
@media (max-width:600px){.smallcenter{display:block; margin:0 auto; text-align:center;}}
.slider{-webkit-appearance:none;height:38px;background:silver;outline:none;vertical-align:-15px;}
.slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:30px;height:26px;background:#fff;cursor:pointer;}
.slider::-moz-range-thumb{width:30px;height:26px;background:#fff;cursor:pointer;}
.demotb{width:33%;border:0px;color:black;}.demotb th{border:0px;}.demotb td{border:0px;}
.tableinline{display:inline-block; padding-top:10px; border-bottom:5px solid #e6e6e6; padding-bottom:5px;}
.text-div{text-align:left;font-family:Alfa Slab One;height:50px;padding-left:50px;padding-top:10px;font-size:15px;}
.colord9{color:#000!important;background-color:#d9d9d9!important}.notreco td{color:black}.reco td{color:white}
.reco span,#nowepg span{color:white;cursor:pointer;}
.recbtn{padding-top:2px!important;padding-left:8px!important;padding-right:7px!important;padding-bottom:2px!important;font-weight:bold!important;}.livetr{background-color:#C66A1F; border:1px solid #4f4f4f}
.reco{background-color:#487212; border-bottom:5px solid #B2B2B2;  border:1px solid #4f4f4f}.notreco{padding-left:5px}
.chlistdiv{text-align:center;display:block;position:relative;top:40px;}
.radimgdiv{display:flex; justify-content:center; align-items:center;}
body{ background-color:white; border:none; color:#000; padding:0px; margin:0px; }
a{ color:black; text-align:left; text-decoration:none;}
table{ color:white;  font:normal 13px Arial;}
table.epg{ color:#000;  text-align:left; font:normal 15px Arial; border:1px solid #1f1f1f;}
table.epg td{vertical-align:top; padding:10px;}
table.epg tr{padding-bottom:15px;  border:1px solid #1f1f1f; color:#fff;}
#loading{width:100%;height:100%;top:50%;left:0px;position:fixed;display:block;opacity:0.7;z-index:99;text-align:center;}
.loader {border: 16px solid #f3f3f3;border-radius: 50%;border-top: 16px solid #3498db;width: 120px;height: 120px;-webkit-animation: spin 2s linear infinite;animation: spin 2s linear infinite;}
@-webkit-keyframes spin {0% {-webkit-transform:rotate(0deg);} 100% {-webkit-transform:rotate(360deg);}}
@keyframes spin {0% {transform:rotate(0deg);} 100% {transform:rotate(360deg);}}
@font-face{font-family: 'Alfa Slab One';font-style: normal;font-weight: 400;src: local('Alfa Slab One Regular'), local('AlfaSlabOne-Regular'), url(https://fonts.gstatic.com/s/alfaslabone/v7/6NUQ8FmMKwSEKjnm5-4v-4Jh2d1he-Wv.woff2) format('woff2');unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;}@font-face {font-family: 'Alfa Slab One';font-style: normal;font-weight: 400;src: local('Alfa Slab One Regular'), local('AlfaSlabOne-Regular'), url(https://fonts.gstatic.com/s/alfaslabone/v7/6NUQ8FmMKwSEKjnm5-4v-4Jh2dxhe-Wv.woff2) format('woff2');unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face {font-family: 'Alfa Slab One';font-style: normal;font-weight: 400;src: local('Alfa Slab One Regular'), local('AlfaSlabOne-Regular'), url(https://fonts.gstatic.com/s/alfaslabone/v7/6NUQ8FmMKwSEKjnm5-4v-4Jh2dJhew.woff2) format('woff2');unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}</style><style id="mystyle"></style><script src="/hlsjs.min.js"></script><link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/css-toggle-switch/latest/toggle-switch.css">
<title>MikiWebTV</title>
<meta name="theme-color" id="themec" content="#898e8c"><!--#a8631e-->
<meta http-equiv="cache-control" content="no-cache">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1, maximum-scale=1, minimum-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
</head>
<body>
<div style="display:block;margin:0 auto;position:fixed;z-index:600;width:100%;background-color:#898e8c;height:44px;" id="searchcatdiv" class="searchcatdiv w3-mobile">
<input type="text" id="chsearch" placeholder="Upisite naziv kanala" onkeyup="search()" class="w3-white" value="">
<div id="chfilterparent" class="w3-dropdown-click filterdiv selectcat">
  <button onclick="toggleClass(dq('#chfiltercontent'),'w3-show')" class="w3-button w3-teal selectcat">Kategorije</button>
  <div id="chfiltercontent" class="w3-dropdown-content w3-bar-block w3-border filtercontent selectcat" style="left: -24%;">
    <span onclick="filtercat(0)" class="w3-bar-item w3-button selectcat spancat w3-green w3-hover-green">Svi kanali</span>
    <span onclick="filtercat(1)" class="w3-bar-item w3-button selectcat spancat">TV Kanali</span>
    <span onclick="filtercat(2)" class="w3-bar-item w3-button selectcat spancat">Live kamere</span>
	<span onclick="filtercat(3)" class="w3-bar-item w3-button selectcat spancat">Radio stanice</span>
  </div>
	</div></div>
<div id="buttons3" class="w3-container w3-hide" width="100%">
<span class="w3-button w3-gray" onclick="returnRemote()" style="position:relative;top:25px;"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Nazad </span>
<img id="kanalIMG3" class="kanalIMG3" src="" align="right" border="0" width="160" height="90">
</div>
<div id="vidcont" class="w3-hide"><center><video class="w3-mobile" id="videoplayer" width="79%" controls></video><br/></center></div>
<div id="chlistcontainer" style="text-align: left;"></div>
<div class="w3-hide" style="text-align: left;" id="epgdiv">
</div>	

<div id="radiocont" class="w3-hide">
<div style="display: block; margin: 0 auto;"><img id="radioimg" src="" style="display: block; text-align: center; margin: 0 auto;" height="130px" width="230px"></div><div style="display: block; margin: 0 auto;"><center>
<span id="play-pause" class="w3-button colord9"><i class="fa fa-pause w3-hide-small" aria-hidden="true"></i> Pause</span>
<span class="w3-button colord9" id="mute"><i class="fa fa-volume-up w3-hide-small" aria-hidden="true"></i> Mute</span>
<input class="slider" id="volume-bar" min="0" max="100" step="1" value="100" type="range"></center></div>
</div>

<div id="buttons1" class="containerlarge smallcenter jbuttons w3-hide" style="padding-top:9px!important;">
<span class="w3-button colord9" onclick="returnChepg()"><i class="fa fa-arrow-circle-left w3-hide-small" aria-hidden="true"></i>
 Nazad </span>
<!--<span class="w3-button colord9" onclick="doauth()"><i class="fa fa-wrench w3-hide-small" aria-hidden="true"></i>
 Popravi </span>-->
<span class="w3-button colord9" onclick="drugiplayer()"><i class="fa fa-play-circle w3-hide-small" aria-hidden="true"></i>
 Drugi </span>
<span class="w3-button colord9" onclick="reload1()"><i class="fa fa-refresh w3-hide-small" aria-hidden="true"></i>
 ReLoad </span>
<div class="switch-toggle switch-candy" style="display:inline-block!important;width:200px;bottom:-11px;"><input id="selectsq" name="state-d" type="radio"><label for="selectsq" onclick="changeQuality('sq')">SQ</label><input id="selecthq" name="state-d" type="radio"><label for="selecthq" onclick="changeQuality('hq')">HQ</label><input id="selectauto" name="state-d" type="radio"><label for="selectauto" onclick="changeQuality('auto')">AUTO</label><a></a></div>
<img id="kanalIMG1" class="kanalIMG1 w3-hide-small" src="" align="right" style="position:relative;top:-7px;" border="0" width="160" height="90">
</div>

<div id="buttons4" class="containerlarge smallcenter jbuttons w3-hide">
<span class="w3-button colord9" onclick="backradio()"><i class="fa fa-arrow-circle-left w3-hide-small" aria-hidden="true"></i>
 Nazad </span>
<!--<span class="w3-button colord9" onclick="doauth()"><i class="fa fa-wrench w3-hide-small" aria-hidden="true"></i>
 Popravi </span>-->
<span class="w3-button colord9" onclick="drugiplayer()"><i class="fa fa-play-circle w3-hide-small" aria-hidden="true"></i>
 Drugi </span>
<span class="w3-button colord9" onclick="reload1()"><i class="fa fa-refresh w3-hide-small" aria-hidden="true"></i>
 ReLoad </span>
<img id="kanalIMG4" class="kanalIMG4 w3-hide-small" src="" align="right" style="position:relative;top:-14px;" border="0" width="160" height="90">
</div>

<div id="buttons2" class="containerlarge smallcenter jbuttons w3-hide">
<span class="w3-button colord9" onclick="returnChepg()"><i class="fa fa-arrow-circle-left w3-hide-small" aria-hidden="true"></i> Nazad </span>
<!--<span class="w3-button colord9" onclick="doauth()"><i class="fa fa-wrench w3-hide-small" aria-hidden="true"></i> Popravi </span>-->
<span class="w3-button colord9" onclick="playts(lasttsurl)"><i class="fa fa-refresh w3-hide-small" aria-hidden="true"></i> ReLoad </span>
<img id="kanalIMG2" class="kanalIMG2 w3-hide-small" src="" align="right" style="position:relative;top:-14px;" border="0" width="160" height="90">
</div>
<script>var channels=["bhtpremier","bht1","ftv","hayat","hayatplus","nova_bh","tvsa","tv1","obn","facetv","ajb","pink_bh","rtv_tk","rtl_hr","rtl2_hr","rtl_living","m1_film","m1_gold","m1_family","timeout","arena1","arenahr","arena2","arena3","arena4","city_tv","rtrs","hayatovci","rtl_kockica","minimax","nickelodeon","nickjr","imperia_tv","hayat_music","hayat_folk","dm_sat","elta","izvorna_tv","tv_jasmin","sevdah_tv","otv_valentino","bn_music","b1_tv","rtv_zenica","tv7","atv","rtv_usk","ntvic_kakanj","rtv_slon","hit_brcko","gorazde","mtv_igman","televizija5","vogosca","rtv_bugojno","jata","visoko","smart_tv","rtv_maglaj","kanal6","rtv_cazin","k3","rtv_zivinice","rtv_lukavac","osm","alfa_tv","bdc_tv","rtv_jablanica","pazar","sandzak_tv","kcn1","kcn2","kcn3","hema","rtv_bn","glas_drine_tv","rtv_sana","ntv_amna","tv_podrinje","tatabrada_tv","english_club","al_jazeera_arabic","islam_channel","saudi_quran","france24_eng","france24_fra","france24_arab","cctv_news","trt_world","trt_arabi","arirang_tv","pink","pink2","pink3_info","pink_m","pink_extra","pink_style","pink_zabava","pink_hits","pink_hits2","pink_music2","bravo_music","pink_folk1","pink_folk2","pink_koncert","pink_nroll","pink_kids","pink_family","pink_romance","pink_soap","pink_film","pink_action","pink_thriller","pink_premium","pink_comedy","pink_crime_mystery","pink_scifi_fantasy","pink_western","pink_clasic","pink_world","pink_pedia","bjelasnica","camigman","malta","jahorina","trebevic_cam","trebevic_zicara","ravna_planina_cam","mojmilo_cam","sarajevo_cam","rtv_dom_cam","trg_bih_cam","skenderija_cam","travnik_cam","vlasic","visoko_cam","kakanj_cam","mostar_cam","mostar_cam_pan","blagaj_cam","stolac_cam","konjic_cam","konjic_cam2","neum","gorazde_cam","gorazde_cam2","bihac_cam","kanjon_une_cam","cazin_cam","zenica_cam","smetovi_cam","tuzla_cam","panonska_cam","jablanica_cam","gracanica_cam","banja_luka_cam","fojnica_cam","maglaj_cam","bugojno_cam","tesanj_cam","zavidovici_cam","jajce_cam","moj_radio","bh_radio1","radio_fbih","radio_antena_sarajevo","rsg_radio","radio_mix","radio_m_sa","radio_bir","radio_tk","radio_7_tuzla","radio_bihac1","radio_ba","radio_bet","radio_bosanska_krupa","radio_cazin","radio_glas_drine","radio_gracanica","radio_gradacac","radio_kameleon","radio_marija","radio_mir","radio_praca","radio_visoko","radio_slon_tuzla","radio_studio_d","radio_valentino","radio_vogosca","radio_lukavac","radio_usk","radio_gorazde","radio_bugojno","radio_donji_vakuf","radio_rtrs","radio_feral_kalesija","radio_kakanj","radio_konjic","radio_tnt","radio_antena_jelah","novi_radio_bihac","narodni_radio","kalman_radio","radio_usora","radio_zenica","radio_zenit","radio_otvorena_mreza","radio_sarajevo","radio_active_zenica"],title={bhtpremier:"Moja TV Sport",bht1:"BHT 1",ftv:"FTV",hayat:"Hayat TV",hayatplus:"Hayat Plus",nova_bh:"Nova BH",tvsa:"TVSA",tv1:"TV1",obn:"OBN",facetv:"FACE TV",ajb:"Al Jazeera Balkans",pink_bh:"Pink BH",rtv_tk:"RTV TK",rtl_hr:"RTL Hrvatska",rtl2_hr:"RTL 2 Hrvatska",rtl_living:"RTL Living",m1_film:"M1 Film",m1_gold:"M1 Gold",m1_family:"M1 Family",timeout:"TimeOut",arena1:"Arena Sport BiH",arenahr:"Arena Sport HR",arena2:"Arena Sport 2",arena3:"Arena Sport 3",arena4:"Arena Sport 4",city_tv:"City TV",rtrs:"RTRS",hayatovci:"Hayatovci",rtl_kockica:"RTL Kockica",minimax:"Minimax",nickelodeon:"Nickelodeon",nickjr:"Nick Jr.",imperia_tv:"Imperia TV",hayat_music:"Hayat Music",hayat_folk:"Hayat Folk",dm_sat:"DM SAT",elta:"Elta TV",izvorna_tv:"Izvorna TV",tv_jasmin:"NTV Jasmin",sevdah_tv:"Sevdah TV",otv_valentino:"OTV Valentino",bn_music:"BN Music",b1_tv:"B1 TV",rtv_zenica:"RTV Zenica",tv7:"TV7",atv:"ATV",rtv_usk:"RTV USK",ntvic_kakanj:"NTVIC Kakanj",rtv_slon:"RTV Slon",hit_brcko:"HIT TV Brčko",gorazde:"RTV BPK",mtv_igman:"MTV Igman",televizija5:"Televizija 5",vogosca:"RTV Vogošća",rtv_bugojno:"RTV Bugojno",jata:"NTV Jata",visoko:"TV Visoko",smart_tv:"Smart TV",rtv_maglaj:"RTV Maglaj",kanal6:"Kanal 6",rtv_cazin:"RTV Cazin",k3:"K3",rtv_zivinice:"RTV Živinice",rtv_lukavac:"TV Lukavac",osm:"OSM TV",alfa_tv:"Alfa TV",bdc_tv:"BDC TV",rtv_jablanica:"RTV Jablanica",pazar:"RTV Novi Pazar",sandzak_tv:"Sandžak TV",kcn1:"KCN 1 Kopernikus",kcn2:"KCN 2 Music",kcn3:"KCN 3 Svet +",hema:"Hema TV",rtv_bn:"BN TV",glas_drine_tv:"TV Glas Drine",rtv_sana:"RTV Sana",ntv_amna:"NTV Amna",tv_podrinje:"TV Podrinje",tatabrada_tv:"Tatabrada TV",english_club:"English Club TV",al_jazeera_arabic:"Al Jazeera Arabic",islam_channel:"Islam Channel",saudi_quran:"Saudi Quran",france24_eng:"France24 English",france24_fra:"France24 Francais",france24_arab:"France24 Arabic",cctv_news:"CGTN",trt_world:"TRT World",trt_arabi:"TRT Arabi",arirang_tv:"Arirang TV",pink:"Pink",pink2:"Pink 2",pink3_info:"Pink 3 Info",pink_m:"Pink M",pink_extra:"Pink Extra",pink_style:"Pink Style",pink_zabava:"Pink Zabava",pink_hits:"Pink Hits",pink_hits2:"Pink Hits 2",pink_music2:"Pink Music 2",bravo_music:"Bravo Music",pink_folk1:"Pink Folk 1",pink_folk2:"Pink Folk 2",pink_koncert:"Pink Koncert",pink_nroll:"Pink n Roll",pink_kids:"Pink Kids",pink_family:"Pink Family",pink_romance:"Pink Romance",pink_soap:"Pink Soap",pink_film:"Pink Film",pink_action:"Pink Action",pink_thriller:"Pink Thriller",pink_premium:"Pink Premium",pink_comedy:"Pink Comedy",pink_crime_mystery:"Pink Crime & Mystery",pink_scifi_fantasy:"Pink Sci-Fi & Fantasy",pink_western:"Pink Western",pink_clasic:"Pink Classic",pink_world:"Pink World",pink_pedia:"Pink Pedia",bjelasnica:"Bjelašnica",camigman:"Igman",malta:"Dolac Malta",jahorina:"Jahorina",trebevic_cam:"Trebević",trebevic_zicara:"Trebević žičara",ravna_planina_cam:"Ravna planina",mojmilo_cam:"Mojmilo",sarajevo_cam:"Sarajevo",rtv_dom_cam:"RTV Dom Sarajevo",trg_bih_cam:"Trg BiH",skenderija_cam:"Skenderija",travnik_cam:"Travnik",vlasic:"Vlašić",visoko_cam:"Visoko",kakanj_cam:"Ponijeri Kakanj",mostar_cam:"Mostar",mostar_cam_pan:"Mostar panorama",blagaj_cam:"Blagaj",stolac_cam:"Stolac",konjic_cam:"Konjic",konjic_cam2:"Konjic 2",neum:"Neum",gorazde_cam:"Goražde",gorazde_cam2:"Goražde 2",bihac_cam:"Bihać",kanjon_une_cam:"Kanjon Une",cazin_cam:"Cazin",zenica_cam:"Zenica",smetovi_cam:"Smetovi Zenica",tuzla_cam:"Tuzla",panonska_cam:"Panonska jezera",jablanica_cam:"Jablanica",gracanica_cam:"Gračanica",banja_luka_cam:"Banja Luka",fojnica_cam:"Fojnica",maglaj_cam:"Maglaj",bugojno_cam:"Bugojno",tesanj_cam:"Tešanj",zavidovici_cam:"Zavidovići",jajce_cam:"Jajce",moj_radio:"Moj radio",bh_radio1:"BH Radio 1",radio_fbih:"Radio FBiH",radio_antena_sarajevo:"Radio Antena Sarajevo",rsg_radio:"RSG Radio",radio_mix:"Radio MiX",radio_m_sa:"Radio M",radio_bir:"Radio BIR",radio_tk:"Radio TK",radio_7_tuzla:"Radio 7 Tuzla",radio_bihac1:"Radio Bihać",radio_ba:"Radio BA",radio_bet:"Radio Bet",radio_bosanska_krupa:"Radio Bosanska Krupa",radio_cazin:"Radio Cazin",radio_glas_drine:"Radio Glas Drine",radio_gracanica:"Radio Gračanica",radio_gradacac:"Radio Gradačac",radio_kameleon:"Radio Kameleon",radio_marija:"Radio Marija",radio_mir:"Radio Mir",radio_praca:"Radio Prača",radio_visoko:"Radio Visoko",radio_slon_tuzla:"Radio Slon Tuzla",radio_studio_d:"Radio Studio D",radio_valentino:"Radio Valentino",radio_vogosca:"Radio Vogošća",radio_lukavac:"Radio Lukavac",radio_usk:"Radio USK",radio_gorazde:"Radio Goražde",radio_bugojno:"Radio Bugojno",radio_donji_vakuf:"Radio Donji Vakuf",radio_rtrs:"Radio RTRS",radio_feral_kalesija:"Radio Feral Kalesija",radio_kakanj:"Radio Kakanj",radio_konjic:"Radio Konjic",radio_tnt:"TNT Radio Travnik",radio_antena_jelah:"Antena Radio Jelah",novi_radio_bihac:"Novi Radio Bihać",narodni_radio:"Narodni Radio",kalman_radio:"Kalman Radio",radio_usora:"Radio Usora",radio_zenica:"Radio Zenica",radio_zenit:"Radio Zenit",radio_otvorena_mreza:"Radio Otvorena Mreža",radio_sarajevo:"Radio Sarajevo",radio_active_zenica:"Radio Active Zenica"},timeshift={bhtpremier:"1",bht1:"1",ftv:"1",hayat:"1",hayatplus:"1",nova_bh:"1",tvsa:"1",tv1:"1",obn:"1",facetv:"1",ajb:"1",pink_bh:"0",rtv_tk:"1",rtl_hr:"0",rtl2_hr:"0",rtl_living:"0",m1_film:"0",m1_gold:"0",m1_family:"0",timeout:"1",arena1:"0",arenahr:"0",arena2:"0",arena3:"0",arena4:"0",city_tv:"1",rtrs:"1",hayatovci:"1",rtl_kockica:"0",minimax:"0",nickelodeon:"0",nickjr:"0",imperia_tv:"0",hayat_music:"0",hayat_folk:"0",dm_sat:"0",elta:"1",izvorna_tv:"0",tv_jasmin:"0",sevdah_tv:"0",otv_valentino:"0",bn_music:"0",b1_tv:"0",rtv_zenica:"0",tv7:"0",atv:"1",rtv_usk:"1",ntvic_kakanj:"1",rtv_slon:"1",hit_brcko:"0",gorazde:"0",mtv_igman:"1",televizija5:"1",vogosca:"0",rtv_bugojno:"0",jata:"0",visoko:"0",smart_tv:"1",rtv_maglaj:"0",kanal6:"1",rtv_cazin:"0",k3:"0",rtv_zivinice:"0",rtv_lukavac:"0",osm:"0",alfa_tv:"1",bdc_tv:"1",rtv_jablanica:"0",pazar:"0",sandzak_tv:"0",kcn1:"0",kcn2:"0",kcn3:"0",hema:"0",rtv_bn:"1",glas_drine_tv:"0",rtv_sana:"0",ntv_amna:"0",tv_podrinje:"0",tatabrada_tv:"0",english_club:"1",al_jazeera_arabic:"0",islam_channel:"0",saudi_quran:"0",france24_eng:"0",france24_fra:"0",france24_arab:"0",cctv_news:"0",trt_world:"0",trt_arabi:"0",arirang_tv:"0",pink:"0",pink2:"0",pink3_info:"0",pink_m:"0",pink_extra:"0",pink_style:"0",pink_zabava:"0",pink_hits:"0",pink_hits2:"0",pink_music2:"0",bravo_music:"0",pink_folk1:"0",pink_folk2:"0",pink_koncert:"0",pink_nroll:"0",pink_kids:"0",pink_family:"0",pink_romance:"0",pink_soap:"0",pink_film:"0",pink_action:"0",pink_thriller:"0",pink_premium:"0",pink_comedy:"0",pink_crime_mystery:"0",pink_scifi_fantasy:"0",pink_western:"0",pink_clasic:"0",pink_world:"0",pink_pedia:"0",bjelasnica:"0",camigman:"0",malta:"0",jahorina:"0",trebevic_cam:"0",trebevic_zicara:"0",ravna_planina_cam:"0",mojmilo_cam:"0",sarajevo_cam:"0",rtv_dom_cam:"0",trg_bih_cam:"0",skenderija_cam:"0",travnik_cam:"0",vlasic:"0",visoko_cam:"0",kakanj_cam:"0",mostar_cam:"0",mostar_cam_pan:"0",blagaj_cam:"0",stolac_cam:"0",konjic_cam:"0",konjic_cam2:"0",neum:"0",gorazde_cam:"0",gorazde_cam2:"0",bihac_cam:"0",kanjon_une_cam:"0",cazin_cam:"0",zenica_cam:"0",smetovi_cam:"0",tuzla_cam:"0",panonska_cam:"0",jablanica_cam:"0",gracanica_cam:"0",banja_luka_cam:"0",fojnica_cam:"0",maglaj_cam:"0",bugojno_cam:"0",tesanj_cam:"0",zavidovici_cam:"0",jajce_cam:"0"},type={bhtpremier:"1",bht1:"1",ftv:"1",hayat:"1",hayatplus:"1",nova_bh:"1",tvsa:"1",tv1:"1",obn:"1",facetv:"1",ajb:"1",pink_bh:"1",rtv_tk:"1",rtl_hr:"1",rtl2_hr:"1",rtl_living:"1",m1_film:"1",m1_gold:"1",m1_family:"1",timeout:"1",arena1:"1",arenahr:"1",arena2:"1",arena3:"1",arena4:"1",city_tv:"1",rtrs:"1",hayatovci:"1",rtl_kockica:"1",minimax:"1",nickelodeon:"1",nickjr:"1",imperia_tv:"1",hayat_music:"1",hayat_folk:"1",dm_sat:"1",elta:"1",izvorna_tv:"1",tv_jasmin:"1",sevdah_tv:"1",otv_valentino:"1",bn_music:"1",b1_tv:"1",rtv_zenica:"1",tv7:"1",atv:"1",rtv_usk:"1",ntvic_kakanj:"1",rtv_slon:"1",hit_brcko:"1",gorazde:"1",mtv_igman:"1",televizija5:"1",vogosca:"1",rtv_bugojno:"1",jata:"1",visoko:"1",smart_tv:"1",rtv_maglaj:"1",kanal6:"1",rtv_cazin:"1",k3:"1",rtv_zivinice:"1",rtv_lukavac:"1",osm:"1",alfa_tv:"1",bdc_tv:"1",rtv_jablanica:"1",pazar:"1",sandzak_tv:"1",kcn1:"1",kcn2:"1",kcn3:"1",hema:"1",rtv_bn:"1",glas_drine_tv:"1",rtv_sana:"1",ntv_amna:"1",tv_podrinje:"1",tatabrada_tv:"1",english_club:"1",al_jazeera_arabic:"1",islam_channel:"1",saudi_quran:"1",france24_eng:"1",france24_fra:"1",france24_arab:"1",cctv_news:"1",trt_world:"1",trt_arabi:"1",arirang_tv:"1",pink:"1",pink2:"1",pink3_info:"1",pink_m:"1",pink_extra:"1",pink_style:"1",pink_zabava:"1",pink_hits:"1",pink_hits2:"1",pink_music2:"1",bravo_music:"1",pink_folk1:"1",pink_folk2:"1",pink_koncert:"1",pink_nroll:"1",pink_kids:"1",pink_family:"1",pink_romance:"1",pink_soap:"1",pink_film:"1",pink_action:"1",pink_thriller:"1",pink_premium:"1",pink_comedy:"1",pink_crime_mystery:"1",pink_scifi_fantasy:"1",pink_western:"1",pink_clasic:"1",pink_world:"1",pink_pedia:"1",bjelasnica:"2",camigman:"2",malta:"2",jahorina:"2",trebevic_cam:"2",trebevic_zicara:"2",ravna_planina_cam:"2",mojmilo_cam:"2",sarajevo_cam:"2",rtv_dom_cam:"2",trg_bih_cam:"2",skenderija_cam:"2",travnik_cam:"2",vlasic:"2",visoko_cam:"2",kakanj_cam:"2",mostar_cam:"2",mostar_cam_pan:"2",blagaj_cam:"2",stolac_cam:"2",konjic_cam:"2",konjic_cam2:"2",neum:"2",gorazde_cam:"2",gorazde_cam2:"2",bihac_cam:"2",kanjon_une_cam:"2",cazin_cam:"2",zenica_cam:"2",smetovi_cam:"2",tuzla_cam:"2",panonska_cam:"2",jablanica_cam:"2",gracanica_cam:"2",banja_luka_cam:"2",fojnica_cam:"2",maglaj_cam:"2",bugojno_cam:"2",tesanj_cam:"2",zavidovici_cam:"2",jajce_cam:"2",moj_radio:"3",bh_radio1:"3",radio_fbih:"3",radio_antena_sarajevo:"3",rsg_radio:"3",radio_mix:"3",radio_m_sa:"3",radio_bir:"3",radio_tk:"3",radio_7_tuzla:"3",radio_bihac1:"3",radio_ba:"3",radio_bet:"3",radio_bosanska_krupa:"3",radio_cazin:"3",radio_glas_drine:"3",radio_gracanica:"3",radio_gradacac:"3",radio_kameleon:"3",radio_marija:"3",radio_mir:"3",radio_praca:"3",radio_visoko:"3",radio_slon_tuzla:"3",radio_studio_d:"3",radio_valentino:"3",radio_vogosca:"3",radio_lukavac:"3",radio_usk:"3",radio_gorazde:"3",radio_bugojno:"3",radio_donji_vakuf:"3",radio_rtrs:"3",radio_feral_kalesija:"3",radio_kakanj:"3",radio_konjic:"3",radio_tnt:"3",radio_antena_jelah:"3",novi_radio_bihac:"3",narodni_radio:"3",kalman_radio:"3",radio_usora:"3",radio_zenica:"3",radio_zenit:"3",radio_otvorena_mreza:"3",radio_sarajevo:"3",radio_active_zenica:"3"},titleArray=[],typeArray=[];for(var m in title){titleArray.push(title[m].toLowerCase())};for(var n in type){typeArray.push(Number(type[n]))};
var jstimerstart=+new Date(),video=dq('#videoplayer'),cdntag="webtvstream",currCH={ch:"",quality:"auto",auto:"",sq:"",hq:""},hlsjsplayer=true,timeWhenThumbsUpdated=0,networkOnlineState=true,networkOnlineInterval,
state="startpos",islistshown=true;function leadingZero(m){if(m<10){m="0"+m};return m;}
function loadChannel(wCh){
	if(wCh.slice(0,2)==='w_' && (wCh=wCh.substr(2))){
		if(includes(channels,wCh)){if(type[wCh]!=3){watchInstant(wCh)} else {zaptoradio(wCh)}}
	} else {
		if(includes(channels,wCh)){if(type[wCh]!=3){zap(wCh)} else {zaptoradio(wCh)}}
	}
}
function loadch(){
	var urlCh=urlParam('ch',urlHref),hashCh=loadedhash.toLowerCase();
	if(urlCh && (urlCh=urlCh.toLowerCase())){
		console.log('loadch from url: ',urlCh);
		loadChannel(urlCh);
	} else if(hashCh && !includes(['#nowepg','#'],hashCh)){
		if(hashCh.charAt(0)==='#'){hashCh=hashCh.substr(1)}
		console.log('loadch from hash: ',hashCh);
		loadChannel(hashCh);
	} else {console.log('loadch absent')}
}
function epghash(){var temphash=location.hash.toLowerCase();if(!includes([state,'#nowepg','#'],temphash)){
	if(temphash.charAt(0)==='#'){temphash=temphash.substr(1)}
	console.log('epghash hash: ',temphash);
	loadChannel(temphash);}
}

function loadImages(){console.log('loadImages() called');var thbarr=dqa('.imgdiv:not(.radimgdiv)'),len=thbarr.length;timeWhenThumbsUpdated=+new Date();for(var i=0;i<len;i++){
thbarr[i].querySelector('.chthumbs').src='https://webtv.bhtelecom.ba/thumbs/'+channels[i]+'.jpg?ts='+timeWhenThumbsUpdated;}
var tmparr=dqa('.radimgdiv');
for(var i=0,leng=tmparr.length;i<leng;i++,len++){tmparr[i].querySelector('.chthumbs').src='https://webtv.bhtelecom.ba/hq_logo/'+channels[len]+'.png';}}
function onOnlineFunc(){doauth();if(!!video.src||!!video.innerHTML){hlsjsplayer?reload1():drugiplayer();}clearInterval(doauthInterval);doauthInterval=setInterval(function(){doauth();}, 600000);}
if('ononline' in document.body){document.body.ononline=function(){onOnlineFunc();}} else {networkOnlineInterval=setInterval(function(){if(!networkOnlineState&&navigator.onLine){onOnlineFunc();}networkOnlineState=navigator.onLine;},4000);}
window.addEventListener('hashchange', epghash);
window.addEventListener('load',function(event){if(islistshown){loadImages();} else {setTimeout(function(){console.log('radio images');var startElem=dqa('.imgdiv:not(.radimgdiv)').length,radioElements=dqa('.radimgdiv');
for(var i=0;i<radioElements.length;i++,startElem++){radioElements[i].querySelector('.chthumbs').src=
'https://webtv.bhtelecom.ba/hq_logo/'+channels[startElem]+'.png';}},4000);}console.log("Loading took: "+(+new Date()-loadingtimestart)+" ms");});
function urlParam(name,locc){var results=new RegExp('[\?&]'+name+'=([^&#]*)').exec(locc || window.location.href);if(results==null){return null;} else {return results[1] || 0;}}
function hlsParse(ch,qt){var base='https://'+cdntag+'.bhtelecom.ba';currCH.ch=ch;currCH.hq=currCH.sq=currCH.auto=base+'/'+ch+'.m3u8';
fetch(currCH.auto+'?ts='+(+new Date())).then(eh).then(function(resp){return resp.text()}).then(function(data){data=data.split('\n');
	var arr1=[],arr2=[],reg=/bandwidth=(\d{1,16}),/gi;
	for(var i=0,j=data.length;i<j;i++){var regtest=reg.exec(data[i]);
	if(regtest){arr1.push(Number(regtest[1]));arr2.push(data[++i]);}}
	if(arr1.length===1){currCH.hq=currCH.sq=base+arr2[0];}
	if(arr1.length>=2){if(arr1[0]>=arr1[1]){
	currCH.hq=base+arr2[0];currCH.sq=base+arr2[1];} else {currCH.hq=base+arr2[1];currCH.sq=base+arr2[0];}}
	console.log('fetched .m3u8, currCH: ',currCH);
	if(qt){console.log('qt: ',qt);currCH.quality=qt;playhls(currCH[qt]);}
	}
	).catch(function(err){
	console.log('error fetching .m3u8, currCH: ', currCH, ' error: ', err);
	if(qt){console.log('qt: ',qt);currCH.quality=qt;playhls(currCH[qt]);}
})}
dq('#videoplayer').addEventListener('pause',function(){dq('#play-pause').innerHTML='<i class="fa fa-play w3-hide-small" aria-hidden="true"></i> Play';});
dq('#videoplayer').addEventListener('playing',function(){dq('#play-pause').innerHTML='<i class="fa fa-pause w3-hide-small" aria-hidden="true"></i> Pause';});
dq('#play-pause').addEventListener('click',function(){video.paused?video.play():video.pause();});
dq('#mute').addEventListener('click',function(){video.muted?(video.muted=!!0,dq('#mute').innerHTML='<i class="fa fa-volume-up w3-hide-small" aria-hidden="true"></i> Mute'):(video.muted=!!1,dq('#mute').innerHTML='<i class="fa fa-volume-off w3-hide-small" aria-hidden="true"></i> Unmute');});
dq('#volume-bar').addEventListener('input',function(e){video.volume=e.target.value/100;});
function chClick(e){
	e.preventDefault();
	var targ=e.target,result=targ.getAttribute('href')&&targ.getAttribute('href').charAt(0)==='#'?targ.getAttribute('href').substr(1):(targ.closest('a[href^="#"]')&&targ.closest('a[href^="#"]').getAttribute('href')?targ.closest('a[href^="#"]').getAttribute('href').substr(1):null);
	result&&includes(channels,result)&&(type[result]!=3?zap(result):zaptoradio(result))&&(state='#'+result);
}
function tableClick(e){
	e.preventDefault();
	var targ=e.target,result=targ.getAttribute('data-bind')?targ.getAttribute('data-bind'):(targ.closest('span[data-bind]')?targ.closest('span[data-bind]').getAttribute('data-bind'):null);
	result&&(includes(['hq','sq','auto'],result)?watchCh(lastch,result):watchTs(result,lastch));
}

function doauth(){fetch('https://'+cdntag+atob('LmJodGVsZWNvbS5iYS91YS8/dT1GUk1lRUFGTENoNElCZ3MlM0QmcD1Ra0plVlZsVg==')).then(eh).then(function(resp){return resp.json()}).then(function(data){
cdntag=data.cdn;if(data.auth>=100){console.log("auth success, level: "+data.auth);} else {console.log("auth (level < 100) level: "+data.auth);}
}).catch(function(err){console.log("auth: failed loading, error: ", err);})}doauth();
function checkver(){fetch('/webtvversion?recheck=1&ts='+(+new Date())).then(eh).then(function(resp){return resp.json()}).then(function(data){
if(20===data.latestversion){console.log("ver20");hide(document.body);clearVideo();for(var i=0,j=setInterval(function(){},999999);i<=j;i++){clearInterval(i);}for(var i=0,j=setTimeout(function(){},999999);i<=j;i++){clearTimeout(i);}alert('Servis privremeno nije u funkciji!');}
}).catch(function(err){console.log('later checkver failed: ',err)});}
var doauthInterval=setInterval(function(){doauth();}, 600000),checkverInterval=setInterval(checkver,100000);
function clearVideo(){if(hls){hls.detachMedia();hls.destroy();hls=null;}video.pause();video.removeAttribute('src');video.innerHTML='';video.load();}
dq('#chlistcontainer').innerHTML='<div id="loading"><img id="loading-image" src="/loading.gif" alt="Loading..." /></div>';	
var hlsNativeSupport='string'===typeof(navigator.vendor)&&'Apple Computer, Inc.'===navigator.vendor,/*video.canPlayType && !!video.canPlayType('application/vnd.apple.mpegURL'),*/
chList=['<div class="chlistdiv" id="chlistdiv">'],hls,lasthlsurl="",lasttsurl="",lastch="",lasttype=0,tstamp=+new Date();
for(var i=0,chLen=channels.length;i<chLen;i++){var tempvalue=channels[i],currhref='<a href="#'+tempvalue+'" title="'+title[tempvalue]+'">';
chList.push('<table id="chtable'+i+'" class="demotb w3-mobile tableinline chtables"><tbody><tr><td>'+currhref+' <div id="divimg'+i+'" class="imgdiv'+(type[tempvalue]==3?' radimgdiv':'')+'"><img id="img'+i+'" class="chthumbs" src="/transparent1280x720.png"'+(type[tempvalue]!=3?' style="width: 100%;"></div></a>':'></div></a>')+'</td></tr><tr><td>'+currhref+'<img src="https://webtv.bhtelecom.ba/logos_white/'+tempvalue+'.png" title="'+title[tempvalue]+'" style="float:left; height: 50px;"></a><div class="text-div">&nbsp;&nbsp;&nbsp;'+currhref+title[tempvalue]+'</a></div></td></tr></tbody></table>');}
chList.push('</div>');dq('#chlistcontainer').innerHTML=chList.join("");
dq('#chlistdiv').addEventListener('click',chClick);

var hidden, visibilityChange, visibilityTimeout;
if(typeof document.hidden!=="undefined"){hidden="hidden";visibilityChange="visibilitychange";
} else if(typeof document.msHidden!=="undefined"){hidden="msHidden";visibilityChange="msvisibilitychange";
} else if(typeof document.webkitHidden!=="undefined"){hidden="webkitHidden";visibilityChange="webkitvisibilitychange";}
function handleVisibilityChange(){if(document[hidden]){console.log('document hidden, clearing interval and timeout');clearInterval(updatethumbsint);clearTimeout(visibilityTimeout);console.log("cleared interval with id",updatethumbsint,"and timeout with id",visibilityTimeout);} else {
var timeLeft=(timeWhenThumbsUpdated+120000)-(+new Date());if(timeLeft<1){console.log('timeLeft<1 , timeLeft: ',timeLeft);updatethumbs();
updatethumbsint=setInterval(updatethumbs,120000);} else {console.log('!timeLeft<1 , timeLeft: ',timeLeft,'setTimeout');visibilityTimeout=setTimeout(function(){updatethumbs();
updatethumbsint=setInterval(updatethumbs,120000);},timeLeft);}}}
if(typeof document.addEventListener!=="undefined" && typeof document[hidden]!=="undefined"){document.addEventListener(visibilityChange, handleVisibilityChange, false);}
function updatethumbs(){console.log('updatethumbs() called, time since last thumbs update: ',(+new Date())-timeWhenThumbsUpdated);if(dq('#chtable0')&&islistshown&&!document[hidden]){timeWhenThumbsUpdated=+new Date();
console.log("updatethumbs() called, thumbs were updated");var thbarr=dqa('.imgdiv:not(.radimgdiv)');
for(var i=0,len=thbarr.length;i<len;i++){thbarr[i].querySelector('.chthumbs').src=
'https://webtv.bhtelecom.ba/thumbs/'+channels[i]+'.jpg?ts='+timeWhenThumbsUpdated;}
} else {if(!dq('#chtable0')){console.log("updatethumbs() called, !dq(#chtable0)");} else {
console.log("updatethumbs() called, !islistshown");}}}
function updateradiowidth(){
if (dq('#chtable0')&&islistshown){
var divwidth=getComputedStyle(dq('#chtable0')).width,divheight=divwidth.slice(0,-2) / 1.777825 + "px";
    console.log("updateradiowidth() called, radio images width updated");
	dq('#mystyle').innerHTML='.radimgdiv{width:'+divwidth+';height:'+divheight+';}';
} else if(!dq('#chtable0')){
        console.log("updateradiowidth() called, !dq(#chtable0)");
    } else {console.log("updateradiowidth() called, !islistshown");}
}
updateradiowidth();var updatethumbsint=setInterval(updatethumbs,120000);

function jumptoepg(){/*window.scrollTo(0, 0);window.location='#nowepg';*/window.scrollTo(0,0);scroller.to(dq('#nowepg'));}
function watchInstant(ch,hq){
	if(hq==undefined)hq=1;
	lastch=ch;state='#w_'+ch;window.location=state;
	islistshown=false;
	hide('#searchcatdiv');
	hide('#chlistcontainer');
	hide('#buttons3');
	hide('#epgdiv');
	show('#vidcont');
	dq('#kanalIMG1').src='https://webtv.bhtelecom.ba/hq_logo/'+ch+'.png';
	dq('#kanalIMG3').src='https://webtv.bhtelecom.ba/hq_logo/'+ch+'.png';
	show('#buttons1');
	if(hq){hlsParse(ch,'hq');} else {hlsParse(ch,'auto');}
}
function epgparse(data, ch, timeshift){
	console.log("epgparse() started, passed data: ",data);
	//var chSq=(type[ch]==3)?ch:('hls'+hlsnum+'/'+ch);var chHq=(type[ch]==3)?ch:('hls'+hlsnum+'/'+ch+'_1200');
	var passedLive=passedNow=false,
	epglist=['<div class="abovetable" style="padding: 5px;"><table width="100%" cellpadding="0" cellspacing="0" class="epg">'];
	if (data && data.feed){
	console.log(data=data.feed);
	for (var i=0,dataLen=data.length;i<dataLen;i++){
		if(data[i].now == 2){passedNow=true;} else {
			if(data[i].now == 1){
					epglist.push('<tr class="livetr truelive" id="nowepg"><td>'+data[i].start+'</td><td style="padding-left: 5px; font: bold 15px Arial;" width="100%" ><div style="display:inline-block;" id="livehidden"><span data-bind="hq"><span class="w3-button w3-light-gray hqbtn">HQ</span></span>&nbsp;&nbsp;&nbsp;<span data-bind="sq"><span class="w3-button w3-light-gray hqbtn">SQ</span></span>&nbsp;&nbsp;&nbsp;<span data-bind="auto"><span class="w3-button w3-light-gray hqbtn">AUTO</span></span></div>&nbsp;&nbsp;&nbsp;&nbsp;<span data-bind="hq">'+data[i].title+'</span>  <small>('+data[i].epgduration+' min)</small> </td></tr>');
					passedLive=passedNow=true;
			} else {
				if(!passedNow && timeshift == 1 && data[i].ts){
					epglist.push('<tr class="reco"><td>'+data[i].start+'</td><td style="padding-left: 5px" width="100%" ><span data-bind="'+data[i].ts+'"><span class="w3-button w3-light-gray recbtn">REC</span> '+data[i].title+'</span> <small>('+data[i].epgduration+' min)</small></td></tr>');
				} else {
					epglist.push('<tr class="notreco"><td>'+data[i].start+'</td><td width="100%">'+data[i].title+' <small>('+data[i].epgduration+' min)</small></td></tr>');
				}
			}
		}
	}
	console.log("finished iterating through data, EPG has been made");
	}
	if(!passedLive){console.log("!passedLive , using backup nowepg");
	var timenow=new Date(),timestart=leadingZero(timenow.getHours())+":"+leadingZero(timenow.getMinutes());
	epglist.push('<tr class="livetr backuplive" id="nowepg"><td>'+timestart+'</td><td style="padding-left: 5px; font: bold 15px Arial;" width="100%" ><div style="display:inline-block;" id="livehidden"><span data-bind="hq"><span class="w3-button w3-light-gray hqbtn">HQ</span></span>&nbsp;&nbsp;&nbsp;<span data-bind="sq"><span class="w3-button w3-light-gray hqbtn">SQ</span></span>&nbsp;&nbsp;&nbsp;<span data-bind="auto"><span class="w3-button w3-light-gray hqbtn">AUTO</span></span></div>&nbsp;&nbsp;&nbsp;&nbsp;<span data-bind="hq">Nema informacija o trenutnom sadržaju</span>  <small>(10000 min)</small> </td></tr>');}
	epglist.push(' </table>');
	console.log("finished making epglist, setting innerHTML to epglist");
	dq('#epgdiv').innerHTML=epglist.join("");
	/*dq('table.epg').removeEventListener('click');*/dq('table.epg').addEventListener('click',tableClick);
	setTimeout(jumptoepg, 5);}
function getEpg(ch, timeshift){
	clearVideo();
	//hlsParse(ch);
	lastch=ch;
	islistshown=false;
	dq('#kanalIMG3').src='https://webtv.bhtelecom.ba/hq_logo/'+ch+'.png';
	hide('#searchcatdiv');
	hide('#chlistcontainer');
	show('#buttons3');
	dq('#epgdiv').innerHTML='<div id="loading"><img id="loading-image" src="/loading.gif" alt="Loading..." /></div>';
	show('#epgdiv');/*var jurl='/tproxy?url=https%3A%2F%2Fwebtv.bhtelecom.ba%2Fepg%2F'+ch;*/
	var jurl='https://webtv.bhtelecom.ba/epg/'+ch;/*if("bhtpremier"===ch){epgparse(null, ch, timeshift);return "bhtpremier===ch";}*/
	console.log("fetching EPG from: "+jurl);
	fetch(jurl).then(eh).then(function(resp){return resp.json()}).then(function(data){console.log("fetched EPG");
	epgparse(data, ch, timeshift);})
	.catch(function(err){console.log("error fetching EPG, error: ", err);epgparse(null, ch, timeshift);})
}
function zap(ch){clearVideo();hlsParse(ch);getEpg(ch, timeshift[ch]);}

function changeQuality(quality){if(currCH.quality!=quality){currCH.quality=quality;lasthlsurl=currCH[quality];hlsjsplayer?reload1():drugiplayer();}}
function playhls(url){
clearVideo();lasthlsurl=url;dq('#select'+currCH.quality).checked=true;if(!hlsNativeSupport&&Hls.isSupported()){
	hlsjsplayer=true;
	hls=new Hls();
	hls.loadSource(url);
	hls.attachMedia(video);
	hls.on(Hls.Events.MANIFEST_PARSED,function() {
		video.play();
	});
	hls.on(Hls.Events.ERROR,function(event,data) {
		video.play();
	});
} else {hlsjsplayer=false;
video.innerHTML='<source src="'+url+'" type="video/mp4" />';video.load();video.play();}}

function playts(url){
	clearVideo();
	lasttsurl=url;
	video.innerHTML='<source src="'+url+'" type="video/mp4" />';
	video.load();
	video.play();}

function returnRemote(){
	window.history.pushState({},document.title,"/webtv");;
	hide('#buttons3');
	show('#searchcatdiv');
	hide('#epgdiv');
	islistshown=true;
	updatethumbs();
	show('#chlistcontainer');
	updateradiowidth();}

function watchCh(ch, quality){if(!quality)quality='auto';
	lastch=ch;state='#w_'+ch;window.location=state;
	currCH.quality=quality;
	lasthlsurl=currCH[quality];
	hide('#buttons3');
	hide('#epgdiv');
	show('#vidcont');
	dq('#kanalIMG1').src='https://webtv.bhtelecom.ba/hq_logo/'+ch+'.png';
	show('#buttons1');
	playhls(lasthlsurl);}

function drugiplayer(){
	clearVideo();
	hlsjsplayer=false;
	video.innerHTML='<source src="'+lasthlsurl+'" type="video/mp4" />';
	video.load();video.play();}

function reload1(){
	clearVideo();
	hlsjsplayer=true;
	hls=new Hls();
	hls.loadSource(lasthlsurl);
	hls.attachMedia(video);
	hls.on(Hls.Events.MANIFEST_PARSED,function(){
		video.play();
	});
	hls.on(Hls.Events.ERROR,function(event,data){
		video.play();
	});}

function watchTs(tsname, ch){
	hide('#buttons3');
	lastch=ch;
	lasttsurl='https://'+cdntag+'.bhtelecom.ba/rec/'+tsname+'.mp4';
	hide('#epgdiv');
	show('#vidcont');
	dq('#kanalIMG2').src='https://webtv.bhtelecom.ba/hq_logo/'+ch+'.png';
	show('#buttons2');
	playts(lasttsurl);}

function returnChepg(){state="#"+lastch;window.location=state;
	hide('#buttons1');
	hide('#buttons2');
	hide('#radiocont');
	show('#buttons3');
	clearVideo();
	hide('#vidcont');
	hlsParse(lastch);
	getEpg(lastch,timeshift[lastch]);}

function zaptoradio(ch) {
hide('#searchcatdiv');
lastch=currCH.ch=ch;currCH.quality='auto';
lasthlsurl=currCH.auto=currCH.hq=currCH.sq='https://'+cdntag+'.bhtelecom.ba/'+ch+'.m3u8';
hide('#chlistcontainer');
islistshown=false;
//dq('#videoplayer').addEventListener("pause",radioonpause);dq('#videoplayer').addEventListener("playing",radioonplaying);
show('#radiocont');
dq('#radioimg').src='https://webtv.bhtelecom.ba/hq_logo/'+ch+'.png';
dq('#kanalIMG4').src='https://webtv.bhtelecom.ba/hq_logo/'+ch+'.png';
show('#buttons4');
playhls(lasthlsurl);if(location.hash.slice(0,3)==="#w_"){state="#"+ch;window.location=state;}}

function backradio() {
hide('#buttons4');
hide('#radiocont');
clearVideo();
window.history.pushState({},document.title,"/webtv");
show('#searchcatdiv');
//dq('#videoplayer').removeEventListener("playing");dq('#videoplayer').removeEventListener("pause");
islistshown=true;
updatethumbs();
show('#chlistcontainer');
updateradiowidth();}


/*function paddingCh(){if(window.innerWidth > window.innerHeight){addClass(dq('.jbuttons'),"padding123");} else {removeClass(dq('.jbuttons'),"padding123");}}*/
window.addEventListener('resize',function(){updateradiowidth();/*paddingCh();*/});

function search(){var searchquery;arguments.length>=1&&arguments[0].toLowerCase?(searchquery=arguments[0].toLowerCase(),dq('#chsearch').value=searchquery):(searchquery=dq('#chsearch').value.toLowerCase());
var child=dqa('.chtables');
if (lasttype === 0){for(var i=0,j=child.length;i<j;i++) {
if (!includes(titleArray[i],searchquery)){child[i].style.display="none";} else {child[i].style.display="";}}
} else {for(var i=0,j=child.length;i<j;i++){if(typeArray[i] !== lasttype || !includes(titleArray[i],searchquery)){
child[i].style.display="none";} else {child[i].style.display="";}}}updateradiowidth();}

function filtercat(catid){removeClass(dq('.spancat.w3-green.w3-hover-green'),'w3-green w3-hover-green');
addClass(dqa('.spancat')[catid],'w3-green w3-hover-green');lasttype=Number(catid);search();}

dq('#chsearch').value="";
window.addEventListener("click",function(e){includes(e.target.className,"selectcat")&&islistshown&&removeClass(dq('#chfiltercontent'),"w3-show");});
(function DOMloaded(){/*paddingCh();*/ if(vercheck){loadch();} else {attempted=true;} fetch(atob('aHR0cHM6Ly9taWtpdHZiYS5nb2F0Y291bnRlci5jb20vY291bnQ/')+'p='+encodeURIComponent((location.pathname+location.search)||'/')+'&r='+encodeURIComponent(document.referrer)+'&s='+encodeURIComponent(window.screen.width+','+window.screen.height+','+(window.devicePixelRatio||1)),{mode:'no-cors'});})();
console.log("JavaScript took: "+(+new Date()-jstimerstart)+" ms");</script>
</body>
</html>